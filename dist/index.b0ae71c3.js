console.log("Run Main Script");const t=async t=>await new Promise((e=>setTimeout(e,t)));new class{constructor(e){this.size=e,this.startGame=!1,this.gameTableCurrent=[],this.nextGameTable=[],this.fps=20,this.init=()=>{this.initGameTable(),this.createBoard()},this.initGameTable=()=>{this.gameTableCurrent=[];for(let t=1;t<=this.size.height;t++){const t=[];for(let e=1;e<=this.size.width;e++)t.push(0);this.gameTableCurrent.push(t)}},this.createBoard=async()=>{this.gameWrapper.innerHTML="";const t=Math.floor(this.gameWrapper.clientWidth/this.size.width),e=Math.floor(this.gameWrapper.clientHeight/this.size.height);this.gameTableCurrent.forEach(((i,s)=>{const a=document.createElement("div");a.classList.add("row"),a.setAttribute("row",`${s}`),i.forEach(((i,h)=>{const n=document.createElement("div");n.classList.add("cell"),n.id=`${s}-${h}`,n.style.width=`${t}px`,n.style.height=`${e}px`,a.appendChild(n),n.addEventListener("click",this.onClickCellHandler)})),this.gameWrapper.appendChild(a)}))},this.onClickCellHandler=t=>{const e=t.target,i=e.id.split("-"),s=i[0],a=i[1];e.classList.contains("active")?(e.classList.remove("active"),!0===this.startGame?this.nextGameTable[s][a]=0:this.gameTableCurrent[s][a]=0):(e.classList.add("active"),!0===this.startGame?this.nextGameTable[s][a]=1:this.gameTableCurrent[s][a]=1)},this.runGame=async()=>{for(;!0===this.startGame;)this.nextGameTable=JSON.parse(JSON.stringify(this.gameTableCurrent)),this.gameTableCurrent.forEach(((t,e)=>{t.forEach(((t,i)=>{const s=e,a=i,h=document.getElementById(`${s}-${a}`);0===this.gameTableCurrent[s][a]?h.classList.remove("active"):h.classList.add("active");const n=this.getNeighborhood(s,a).filter((t=>0!==this.gameTableCurrent[t[0]][t[1]]));1===this.gameTableCurrent[s][a]?n.length<2?this.nextGameTable[s][a]=0:2===n.length||3===n.length?this.nextGameTable[s][a]=1:n.length>3&&(this.nextGameTable[s][a]=0):3===n.length&&(this.nextGameTable[s][a]=1)}))})),await t(Math.floor(1e3/this.fps)),this.gameTableCurrent=this.nextGameTable},this.getNeighborhood=(t,e)=>[0===t||0===e?null:[t-1,e-1],0===t?null:[t-1,e],0===t||e===this.size.height-1?null:[t-1,e+1],e===this.size.width-1?null:[t,e+1],0===e?null:[t,e-1],t===this.size.height-1||0===e?null:[t+1,e-1],t===this.size.height-1?null:[t+1,e],t===this.size.height-1||e===this.size.width-1?null:[t+1,e+1]].filter((t=>null!==t)),this.startButton=document.querySelector("#start-game"),this.gameWidthInput=document.querySelector("#width"),this.gameHeightInput=document.querySelector("#height"),this.gameFpsInput=document.querySelector("#fps"),this.gameWrapper=document.querySelector(".game-wrapper"),this.startButton.addEventListener("click",(()=>{this.startGame=!this.startGame,this.startButton.innerText=!1===this.startGame?"Start":"Stop",this.runGame()})),this.gameWidthInput.addEventListener("change",(t=>{this.size.width=parseInt(t.target.value),this.init()})),this.gameHeightInput.addEventListener("change",(t=>{this.size.height=parseInt(t.target.value),this.init()})),this.gameFpsInput.addEventListener("change",(t=>{this.fps=parseInt(t.target.value),this.init()}))}}({width:60,height:60}).init();
//# sourceMappingURL=index.b0ae71c3.js.map
